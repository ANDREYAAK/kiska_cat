/**
 * Конфигурация визуальных параметров дорог
 * 
 * Определяет толщину дорожного полотна, размеры бордюров и другие параметры
 * для создания дорог с объемом и бордюрами (вместо тонких плоскостей)
 */

export interface RoadVisualConfig {
  /** Толщина основного дорожного полотна (глубина асфальта) */
  roadThickness: number;
  
  /** Высота бордюра над дорогой (вертикальный выступ) */
  curbHeight: number;
  
  /** Ширина бордюра с каждой стороны (горизонтальный выступ) */
  curbWidth: number;
  
  /** Высота верхней поверхности дороги относительно земли (обычно 0.0) */
  surfaceElevation: number;
}

/**
 * Параметры для дорог разной ширины
 * 
 * Основные дороги (width = 10) - более массивные и заметные
 * Узкие дороги (width = 8) - чуть меньше, но тоже массивные
 */
export const ROAD_VISUAL_CONFIG: Record<number, RoadVisualConfig> = {
  // Основные дороги (ширина 10)
  10: {
    roadThickness: 0.4,        // Толстый слой асфальта - визуально заметно
    curbHeight: 0.12,           // Высокий бордюр для четкого разделения
    curbWidth: 0.3,             // Широкий бордюр с каждой стороны
    surfaceElevation: 0.0,      // Верх дороги на уровне земли
  },
  
  // Узкие дороги (ширина 8)
  8: {
    roadThickness: 0.35,        // Чуть тоньше, но все еще массивно
    curbHeight: 0.1,            // Немного ниже бордюр для пропорций
    curbWidth: 0.25,            // Чуть уже бордюр
    surfaceElevation: 0.0,      // Верх дороги на уровне земли
  },
};

/**
 * Получить конфигурацию визуальных параметров для дороги заданной ширины
 * 
 * @param width Ширина дороги (обычно 8 или 10)
 * @returns Конфигурация дороги, или конфигурация по умолчанию (для width=10) если ширина не найдена
 */
export function getRoadVisualConfig(width: number): RoadVisualConfig {
  return ROAD_VISUAL_CONFIG[width] || ROAD_VISUAL_CONFIG[10];
}

/**
 * Высота верхней поверхности дороги (уровень, на котором размещаются объекты)
 * 
 * Всегда равна surfaceElevation из конфигурации (обычно 0.0 - на уровне земли)
 */
export function getRoadSurfaceHeight(width: number): number {
  return getRoadVisualConfig(width).surfaceElevation;
}
